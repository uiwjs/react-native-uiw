(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[105],{1058:function(e,t,n){"use strict";n.r(t),t.default="QuickList \u5feb\u901f\u8bf7\u6c42\u5217\u8868\n---\n\n\u5feb\u901f\u5b8c\u6210\u4e0a\u62c9\u4e0b\u62c9\u8bf7\u6c42\u5217\u8868\u3002\n\n![](https://user-images.githubusercontent.com/66067296/140003953-6d3c5a99-a656-4bd3-a1e9-3711550cb87d.gif)\x3c!--rehype:style=zoom: 33%;float: right; margin-left: 15px;--\x3e\n\n### \u57fa\u7840\u793a\u4f8b\n\n\x3c!--DemoStart--\x3e \n```jsx\nimport React, { useRef, useState } from 'react';\nimport { SafeAreaView, Image, View, Text } from 'react-native';\nimport { QuickList, List } from '@uiw/react-native';\n\nconst imageUrl = 'https://c-ssl.duitang.com/uploads/item/202004/13/20200413013923_25wds.jpeg'\n\nconst defaultData = [\n  { name: '@uiw/react-native QuickList', id: 1, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 2, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 3, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 4, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 5, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 6, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 7, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 8, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 9, img: imageUrl },\n  { name: '@uiw/react-native QuickList', id: 10, img: imageUrl },\n];\n\nconst QuickListDemo = (props) => {\n  const baseRef = useRef();\n  const [total, setTotal] = useState(0)\n  const [data, setData] = useState([])\n\n  const sleep = (time) => new Promise((resolve) => setTimeout(() => resolve(''), time))\n\n  // \u6a21\u62df\u8bf7\u6c42\n  const fethList = async (params) => {\n    const { page, pageSize } = params\n    if (page === 1) {\n      await sleep(500)\n      setData(defaultData)\n    } else {\n      let fetchData = []\n      for (let i = 0; i < pageSize; i++) {\n        const id = (data.length + 1 / 10 * pageSize) + i\n        const name = `@uiw/react-native QuickList`;\n        const img = imageUrl\n        let obj = { name, id,img }\n        fetchData.push(obj)\n      }\n      let newData = [...data, ...fetchData]\n      await sleep(500)\n      setData(newData)\n    }\n    setTotal(40)\n  }\n  // \u5217\u8868\u6e32\u67d3\n  const ListItem = (item:any) => {\n    return (\n      <List flat={false}>\n        <View\n          style={{ padding: 10, display: \"flex\", alignItems: \"center\", flexDirection: \"row\" }}>\n          <Image\n            source={{\n              uri: item.img,\n            }}\n            style={{ height: 70, width: 70, borderRadius: 50 }}\n          />\n          <View style={{ marginLeft: 10 }}>\n            <Text style={{ marginBottom: 5, fontSize: 18 }}>react-native</Text>\n            <Text style={{ color:\"#808080\"}}>{item.name}</Text>\n          </View>\n        </View>\n      </List>\n    )\n  }\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <QuickList\n        ref={baseRef}\n        onFetch={fethList}\n        data={data}\n        total={total}\n        renderItem={({ item }) => ListItem(item)}\n        keyId=\"id\"\n      />\n    </SafeAreaView>\n  );\n}\nexport default QuickListDemo\n```\n\x3c!--End--\x3e\n\n### Props\n\n```ts\ninterface QuickListProps<ItemT> extends FlatListProps<ItemT> {\n  onFetch: (params: any) => void // \u8bf7\u6c42\u7684\u63a5\u53e3\u51fd\u6570\n  data: Array<any>, // \u6570\u636e\u6e90\n  renderItem: ListRenderItem<any>, // \u4ecedata\u5217\u8868\u4e2d\u83b7\u53d6\u4e00\u4e2a\u9879\u76ee\u5e76\u5c06\u5176\u6e32\u67d3\u5230\u5217\u8868\u4e2d\n  keyId: string | number,// \u552f\u4e00\u5065\n  emptyView?: void | any,// \u5f53\u5217\u8868\u4e3a\u7a7a\u65f6\u5448\u73b0\n  pageSize?: number, // \u6bcf\u6b21\u52a0\u8f7d\u6570\u636e\u6761\u6570\n  total: number, // \u603b\u6761\u6570\n  style?: Object,// \u6837\u5f0f\n}\n\nexport type QuickListComponent<ItemT = any> = (\n  props: QuickListProps<ItemT>,\n  ref?:  Ref<FlatList<ItemT>> | any\n) => React.ReactElement\n```\n"}}]);
//# sourceMappingURL=105.e305fbf3.chunk.js.map